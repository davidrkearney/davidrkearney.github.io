
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Evaluating Distributions and generating Experimental Crosstabs for the Evaluation of Experiments as well as Experimental Comparisons with T-Tests, Purpose Assumptions, Corrections and Implementations in Python &#8212; Hands On Data Science at Scale with PySpark, Dask and H2O.</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Analyzing US Real Interest Rate From 1959 - 2009 with statsmodels" href="2020-09-24-AnalyzingUSRealInterestRate.html" />
    <link rel="prev" title="Working with sqlite databases in Jupyter for Visualizing European Soccer Match Data" href="2020-10-27-sql_calls_in_jupyter_Soccer_Pred.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Hands On Data Science at Scale with PySpark, Dask and H2O.</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-25-ARIMA-ADF-FORECASTING.html">
   Stock Market Analysis of the S&amp;P 500 Index using ARIMA and Seasonal ARIMA for forecasting
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-17-Pyspark-Group-By.html">
   Group By and Aggregation with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-22-Window%20functions%20and%20Pivot%20Tables%20with%20Pyspark.html">
   Window functions and Pivot Tables with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-29-Clustering%20with%20Pyspark.html">
   Clustering with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-27-sql_calls_in_jupyter_Soccer_Pred.html">
   Working with sqlite databases in Jupyter for Visualizing European Soccer Match Data
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Evaluating Distributions and generating Experimental Crosstabs for the Evaluation of Experiments as well as Experimental Comparisons with T-Tests, Purpose Assumptions, Corrections and Implementations in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-24-AnalyzingUSRealInterestRate.html">
   Analyzing US Real Interest Rate From 1959 - 2009 with statsmodels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-30-NLP%20with%20Pyspark.html">
   NLP with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-19-Pyspark-Filtering.html">
   Dataframe Filitering and Operations with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-28-PCA-with-sklearn.html">
   Principal component analysis with sklearn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-20-Dask-Diab.html">
   Dask for Predicting Onset/Diagnosis of Chronic Conditions, Diabetes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-17-dask-NLP-gutenberg-books.html">
   Using Dask with dask.bag and regex to parse Notes from the Underground from project gutenberg
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-17-dask-NLP-gutenberg-books.html#removing-stop-words-in-top-word-frequency-counts">
   Removing stop words in top word frequency counts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-30-StockMarketPortfolioAnaylsis_snp.html">
   Stock Market and Portfolio Anaylsis of the S&amp;P 500 with pandas and quandl
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-10-Dask_Fiscal-db-to-dask-dataframe.html">
   Working with dask data frames. Reading Fiscal Data from a sqlite db to a dask dataframe. Computing, visualizing and groupby with dask dataframes. Using dask.distributed locally.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-20-Pyspark-Dataframes-Data-Types.html">
   Dataframes, Formatting, Casting Data Type and Correlation with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-13-dask-xgboost-fiscal-data.html">
   Moving Dask XGboost with Fiscal Data, saving and loading Dask XGboost models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-12-dask-xgboost-fiscal-data..html">
   Visualizing Operations with Dask Dataframes on Fiscal Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-01-StockMarketPortfolioAnaylsis_snp%2B.html">
   Stock Market and Portfolio Anaylsis of the S&amp;P 500 various metrics with pandas and quandl
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-25-Linear%20Regression%20and%20Random%20Forest_GBT%20Classification%20with%20Pyspark.html">
   Regression and Classification with Pyspark ML
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-16-pandas-stats-fiscal.html">
   Using Pandas and Statsmodels for Regression with Fiscal Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-21-StockMarketPortfolioAnaylsis2.html">
   Stock Market and Optimal Portfolio Anaylsis scipy and quandl
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-18-Pyspark-NAs.html">
   Handling Missing Data with Pyspark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-29-pyquery_for_ebooks_python.html">
   Creating E-Books (.epub) in python using ebooklib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-09-dask-sql.html">
   Using Dask and dask-sql
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-15-Pyspark-Fiscal-Data-Regression.html">
   Pyspark Regression with Fiscal Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-02-NLP_Ngram.html">
   NLP ngrams With Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-22-Linear%20Regression%20and%20Random%20Forest_GBT%20Classification%20with%20Pyspark.html">
   Regression and Classification with Pyspark ML
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-16-automl-capabilities-of-h2o-library.html">
   AutoML, Xgboost and H2O
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-21-quant_data_datareader_quandl.html">
   Using the Quandl API and Pandas Datareader API to call Microsoft, Apple, Zoom, Snowflake stocks and other finance data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-12-dask-xgboost-fiscal-data.html">
   Visualizing Operations with Dask Dataframes on Fiscal Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bibliography.html">
   Bibliography for Hands On Data Science at Scale with PySpark, Dask and H2O.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="building_book.html">
   Creating the book:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-10-Dask-api-eda.html">
   Dask API for analytics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-31-sql_calls_in_jupyter_Soccer_explore.html">
   Working with sqlite databases in Jupyter for Visualizing European Soccer Match Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-14-dask-xgboost-HT-OHE.html">
   Using dask_ml.preprocessing and OneHotEncoder for categorical encoding with Dask
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-05-StockMarketPortfolioAnaylsis_snp_pandas_datareader_sqlite-Copy1.html">
   Using sqlalchemy and pandas to read and write from and to a local sqlite database for Stock Market and Portfolio Anaylsis Tech Stocks and the S&amp;P 500 in 2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="toc.html">
   Table of Contents for Data Science at Scale
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-09-Dask_Fiscal-Data-Sqlite-db.html">
   Moving fiscal data from a pandas dataframe to a sqlite local database
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-04-StockMarketPortfolioAnaylsis_snp_pandas_datareader_sqlite-Copy1.html">
   Stock Market and Portfolio Anaylsis Tech Stocks and the S&amp;P 500 in 2020 with pandas_datareader and writing to at sqlite database
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-22-stock-market-returns.html">
   Stock Market Analysis of Microsoft, Zoom, and Snowflake
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-25-AnalyzingSizeofArmedForces.html">
   Analyzing Size of Armed Forces From 1947 - 1963 with statsmodels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-30-Function-for-zillow-data-quandl-api.html">
   Using quandl zillow api for Chicago and Evanston Home Sale Prices using ARIMA and EWMAs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-18-ttests-distributions-crosstabs.html">
   Evaluating Distributions and generating experimental Crosstabs for the evaluation of Experiments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-11-dask-xgboost-fiscal-data.html">
   Moving Fiscal Data from a sqlite db to a dask dataframe
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-22-AnalyzingUSUnemployment.html">
   Analyzing US Unemployment From 1959 - 2009 with statsmodels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-19-StockMarketPortfolioAnaylsis.html">
   Stock Market and Portfolio Anaylsis with pandas_datareader and quandl
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-23-AnalyzingUSInflation.html">
   Analyzing US Inflation From 1959 - 2009 with statsmodels
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-28-databases_sqllite_sqlalchemy_27.html">
   Creating and accessing SQL databases with python using sqlalchemy and sqlite3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="setup.html">
   Setting Up Computing Enviroment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-07-Fiscal_data-sqlitedb-Copy1.html">
   Using sqlalchemy and pandas to read and write from and to a local sqlite database for Fiscal Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-06-NLP-sqlitedb.html">
   Using sqlalchemy and pandas to read and write from and to a local sqlite database for NLP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-17-diab_prediction_with_h2o.html">
   Predicting Onset/Diagnosis of Chronic Conditions, Diabetes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-11-17-diab_prediction_with_h2o.html#national-institute-of-diabetes-and-digestive-and-kidney-diseases-https-www-niddk-nih-gov">
   National Institute of Diabetes and Digestive and Kidney Diseases, https://www.niddk.nih.gov/
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Hands On Data Science at Scale with PySpark, Dask and H2O.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-26-Working_with_sqlite3_dbs_in_jupyter_Soccer_Pred.html">
   Working with sqlite databases in Jupyter for European Soccer Match Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-16-dask-NLP-gutenberg-books.html">
   Using Dask with dask.bag and regex to parse The Brothers Karamazov from project gutenberg
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-16-dask-NLP-gutenberg-books.html#removing-stop-words-in-top-word-frequency-counts">
   Removing stop words in top word frequency counts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-02-databases_sqllite_sqlalchemy_27-Copy1.html">
   Creating and accessing SQL databases with python using sqlalchemy and sqlite
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="git_setup.html">
   Setting up Version Control/Git Configuration:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-15-dask-xgboost-Linear-Regresion-Copy1.html">
   Linear Regression using Dask Data Frames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-10-08-Dask-Day-1.html">
   Using Dask for Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-09-03-NLP_Seaborn_Heatmaps.html">
   NLP Heatmaps with Seaborn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2020-08-21-RDDs%20and%20Schemas%20and%20Data%20Types%20with%20Pyspark.html">
   RDDs and Schemas and Data Types with Pyspark
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/2020-10-19-ttests-distributions-crosstabs-functions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/2020-10-19-ttests-distributions-crosstabs-functions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-purpose-of-the-t-test-is-to-compare-if-there-are-mean-differences-between-two-groups-of-interest-when-we-are-interested-in-comparing-statistical-differences-between-more-than-two-groups-and-we-conduct-multiple-t-tests-we-will-end-up-increasing-the-likelihood-of-a-false-positive-type-i-error-where-we-are-incorrectly-rejecting-the-null-hypothesis-that-there-are-no-statistical-differences-between-groups-one-way-to-address-this-is-to-use-the-bonferroni-correction-the-bonferroni-correction-the-namesake-of-carlo-emilio-bonferroni-accounts-for-what-we-lose-in-a-p-hacking-quest-in-the-experimentation-which-is-the-justification-for-taking-p-values-at-face-value-by-intuition-when-we-go-searching-for-significant-differences-everywhere-the-chance-of-seeing-an-apparent-significant-difference-by-chance-anywhere-increases-using-the-bonferroni-correction-if-the-starting-alpha-significance-level-is-05-and-we-are-testing-10-hypotheses-then-the-corrected-alpha-significance-level-we-should-use-would-be-005-understanding-the-lack-of-an-incentive-to-make-such-an-adjustment-is-straightforward-another-way-to-address-this-is-to-first-use-anova-to-detect-statistical-differences-between-all-groups-before-deciding-whether-to-use-t-tests-to-look-for-pairwise-comparisons-between-groups">
   The purpose of the T-test is to compare if there are mean differences between two groups of interest. When we are interested in comparing statistical differences between more than two groups, and we conduct multiple t-tests, we will end up increasing the likelihood of a false positive (type I error) where we are incorrectly rejecting the null hypothesis that there are no statistical differences between groups. One way to address this is to use the Bonferroni correction. The Bonferroni correction, the namesake of Carlo Emilio Bonferroni, accounts for what we lose in a p-hacking quest in the experimentation, which is the justification for taking p-values at face value. By intuition, when we go searching for significant differences everywhere, the chance of seeing an apparent significant difference by chance anywhere increases. Using the Bonferroni correction, if the starting alpha/significance level is .05 and we are testing 10 hypotheses, then the corrected alpha/significance level we should use would be .005. Understanding the lack of an incentive to make such an adjustment is straightforward. Another way to address this is to first use ANOVA to detect statistical differences between all groups before deciding whether to use t tests to look for pairwise comparisons between groups.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#t-test-comparisons-uses-the-means-counts-and-standard-deviations-of-a-treatment-and-control-in-comparison-to-an-idealized-normal-distribution-to-calculate-a-p-value-which-by-intuition-is-the-likelihood-of-seeing-a-mean-difference-of-the-same-or-more-extreme-magnitude-between-treatment-and-control-as-a-result-of-chance-this-is-done-through-a-comparison-to-an-idealized-normal-distribution-through-the-calculation-of-a-t-statistic-while-the-test-statistic-is-assumed-to-follow-an-idealized-normal-distribution-if-the-scaling-term-but-where-the-scaling-term-is-unknown-and-it-is-instead-estimated-based-on-the-data-which-is-assumed-to-follow-the-student-s-t-distribution-this-process-can-be-thought-of-trying-to-disentangle-the-signal-mean-difference-and-counts-from-the-noise-variability-here-the-mean-difference-is-the-direction-of-the-signal-and-the-counts-are-the-strength-of-the-signal">
   T test comparisons uses the means, counts and standard deviations of a treatment and control in comparison to an idealized normal distribution to calculate a p value, which by intuition is the likelihood of seeing a mean difference of the same or more extreme magnitude between treatment and control as a result of chance. This is done through a comparison to an idealized normal distribution, through the calculation of a t-statistic. While the test statistic is assumed to follow an idealized normal distribution if  the scaling term, but where the scaling term is unknown and it is instead estimated based on the data, which is assumed to follow the student’s t distribution.This process can be thought of trying to disentangle the signal (mean difference and counts) from the noise variability. Here the mean difference is the direction of the signal and the counts are the strength of the signal.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distributions-of-dependant-variables">
   Distributions of Dependant Variables
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#right-skew">
     Right skew
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removal-of-gdp-value-outliers-more-than-3-standard-deviations-away-from-the-mean">
   Removal of GDP value outliers more than 3 standard deviations away from the mean
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#outlier-removal-of-rows-with-gdp-values-that-are-3-standard-deviations-away-form-the-mean">
   outlier removal of rows with GDP values that are &gt; 3 standard deviations away form the mean
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#these-are-the-observations-more-then-3-sds-away-from-the-mean-of-gdp-that-will-be-dropped">
   these are the observations more then &gt; 3 SDs away from the mean of gdp that will be dropped
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#genearate-an-experimental-crosstab-to-be-used-in-statistical-tests">
   Genearate an experimental_crosstab to be used in statistical tests
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="evaluating-distributions-and-generating-experimental-crosstabs-for-the-evaluation-of-experiments-as-well-as-experimental-comparisons-with-t-tests-purpose-assumptions-corrections-and-implementations-in-python">
<h1>Evaluating Distributions and generating Experimental Crosstabs for the Evaluation of Experiments as well as Experimental Comparisons with T-Tests, Purpose Assumptions, Corrections and Implementations in Python<a class="headerlink" href="#evaluating-distributions-and-generating-experimental-crosstabs-for-the-evaluation-of-experiments-as-well-as-experimental-comparisons-with-t-tests-purpose-assumptions-corrections-and-implementations-in-python" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-purpose-of-the-t-test-is-to-compare-if-there-are-mean-differences-between-two-groups-of-interest-when-we-are-interested-in-comparing-statistical-differences-between-more-than-two-groups-and-we-conduct-multiple-t-tests-we-will-end-up-increasing-the-likelihood-of-a-false-positive-type-i-error-where-we-are-incorrectly-rejecting-the-null-hypothesis-that-there-are-no-statistical-differences-between-groups-one-way-to-address-this-is-to-use-the-bonferroni-correction-the-bonferroni-correction-the-namesake-of-carlo-emilio-bonferroni-accounts-for-what-we-lose-in-a-p-hacking-quest-in-the-experimentation-which-is-the-justification-for-taking-p-values-at-face-value-by-intuition-when-we-go-searching-for-significant-differences-everywhere-the-chance-of-seeing-an-apparent-significant-difference-by-chance-anywhere-increases-using-the-bonferroni-correction-if-the-starting-alpha-significance-level-is-05-and-we-are-testing-10-hypotheses-then-the-corrected-alpha-significance-level-we-should-use-would-be-005-understanding-the-lack-of-an-incentive-to-make-such-an-adjustment-is-straightforward-another-way-to-address-this-is-to-first-use-anova-to-detect-statistical-differences-between-all-groups-before-deciding-whether-to-use-t-tests-to-look-for-pairwise-comparisons-between-groups">
<h2>The purpose of the T-test is to compare if there are mean differences between two groups of interest. When we are interested in comparing statistical differences between more than two groups, and we conduct multiple t-tests, we will end up increasing the likelihood of a false positive (type I error) where we are incorrectly rejecting the null hypothesis that there are no statistical differences between groups. One way to address this is to use the Bonferroni correction. The Bonferroni correction, the namesake of Carlo Emilio Bonferroni, accounts for what we lose in a p-hacking quest in the experimentation, which is the justification for taking p-values at face value. By intuition, when we go searching for significant differences everywhere, the chance of seeing an apparent significant difference by chance anywhere increases. Using the Bonferroni correction, if the starting alpha/significance level is .05 and we are testing 10 hypotheses, then the corrected alpha/significance level we should use would be .005. Understanding the lack of an incentive to make such an adjustment is straightforward. Another way to address this is to first use ANOVA to detect statistical differences between all groups before deciding whether to use t tests to look for pairwise comparisons between groups.<a class="headerlink" href="#the-purpose-of-the-t-test-is-to-compare-if-there-are-mean-differences-between-two-groups-of-interest-when-we-are-interested-in-comparing-statistical-differences-between-more-than-two-groups-and-we-conduct-multiple-t-tests-we-will-end-up-increasing-the-likelihood-of-a-false-positive-type-i-error-where-we-are-incorrectly-rejecting-the-null-hypothesis-that-there-are-no-statistical-differences-between-groups-one-way-to-address-this-is-to-use-the-bonferroni-correction-the-bonferroni-correction-the-namesake-of-carlo-emilio-bonferroni-accounts-for-what-we-lose-in-a-p-hacking-quest-in-the-experimentation-which-is-the-justification-for-taking-p-values-at-face-value-by-intuition-when-we-go-searching-for-significant-differences-everywhere-the-chance-of-seeing-an-apparent-significant-difference-by-chance-anywhere-increases-using-the-bonferroni-correction-if-the-starting-alpha-significance-level-is-05-and-we-are-testing-10-hypotheses-then-the-corrected-alpha-significance-level-we-should-use-would-be-005-understanding-the-lack-of-an-incentive-to-make-such-an-adjustment-is-straightforward-another-way-to-address-this-is-to-first-use-anova-to-detect-statistical-differences-between-all-groups-before-deciding-whether-to-use-t-tests-to-look-for-pairwise-comparisons-between-groups" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="t-test-comparisons-uses-the-means-counts-and-standard-deviations-of-a-treatment-and-control-in-comparison-to-an-idealized-normal-distribution-to-calculate-a-p-value-which-by-intuition-is-the-likelihood-of-seeing-a-mean-difference-of-the-same-or-more-extreme-magnitude-between-treatment-and-control-as-a-result-of-chance-this-is-done-through-a-comparison-to-an-idealized-normal-distribution-through-the-calculation-of-a-t-statistic-while-the-test-statistic-is-assumed-to-follow-an-idealized-normal-distribution-if-the-scaling-term-but-where-the-scaling-term-is-unknown-and-it-is-instead-estimated-based-on-the-data-which-is-assumed-to-follow-the-student-s-t-distribution-this-process-can-be-thought-of-trying-to-disentangle-the-signal-mean-difference-and-counts-from-the-noise-variability-here-the-mean-difference-is-the-direction-of-the-signal-and-the-counts-are-the-strength-of-the-signal">
<h2>T test comparisons uses the means, counts and standard deviations of a treatment and control in comparison to an idealized normal distribution to calculate a p value, which by intuition is the likelihood of seeing a mean difference of the same or more extreme magnitude between treatment and control as a result of chance. This is done through a comparison to an idealized normal distribution, through the calculation of a t-statistic. While the test statistic is assumed to follow an idealized normal distribution if  the scaling term, but where the scaling term is unknown and it is instead estimated based on the data, which is assumed to follow the student’s t distribution.This process can be thought of trying to disentangle the signal (mean difference and counts) from the noise variability. Here the mean difference is the direction of the signal and the counts are the strength of the signal.<a class="headerlink" href="#t-test-comparisons-uses-the-means-counts-and-standard-deviations-of-a-treatment-and-control-in-comparison-to-an-idealized-normal-distribution-to-calculate-a-p-value-which-by-intuition-is-the-likelihood-of-seeing-a-mean-difference-of-the-same-or-more-extreme-magnitude-between-treatment-and-control-as-a-result-of-chance-this-is-done-through-a-comparison-to-an-idealized-normal-distribution-through-the-calculation-of-a-t-statistic-while-the-test-statistic-is-assumed-to-follow-an-idealized-normal-distribution-if-the-scaling-term-but-where-the-scaling-term-is-unknown-and-it-is-instead-estimated-based-on-the-data-which-is-assumed-to-follow-the-student-s-t-distribution-this-process-can-be-thought-of-trying-to-disentangle-the-signal-mean-difference-and-counts-from-the-noise-variability-here-the-mean-difference-is-the-direction-of-the-signal-and-the-counts-are-the-strength-of-the-signal" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">dask.array</span> <span class="k">as</span> <span class="nn">da</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">db</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats.power</span> <span class="kn">import</span> <span class="n">NormalIndPower</span><span class="p">,</span> <span class="n">TTestIndPower</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind_from_stats</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/gao/anaconda3/lib/python3.7/site-packages/statsmodels/tools/_testing.py:19: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.
  import pandas.util.testing as tm
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;df_panel_fix.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;reg&quot;</span><span class="p">,</span> <span class="s2">&quot;province&quot;</span><span class="p">,</span> <span class="s2">&quot;gdp&quot;</span><span class="p">,</span> <span class="s2">&quot;fdi&quot;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">,</span><span class="s2">&quot;specific&quot;</span><span class="p">]]</span>
<span class="n">df_subset</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;region&quot;</span><span class="p">,</span> <span class="s2">&quot;province&quot;</span><span class="p">,</span> <span class="s2">&quot;gdp&quot;</span><span class="p">,</span> <span class="s2">&quot;fdi&quot;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">,</span><span class="s2">&quot;specific&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df_subset</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>province</th>
      <th>gdp</th>
      <th>fdi</th>
      <th>it</th>
      <th>specific</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1996</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2093.30</td>
      <td>50661</td>
      <td>631930</td>
      <td>147002.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1997</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2347.32</td>
      <td>43443</td>
      <td>657860</td>
      <td>151981.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1998</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2542.96</td>
      <td>27673</td>
      <td>889463</td>
      <td>174930.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1999</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2712.34</td>
      <td>26131</td>
      <td>1227364</td>
      <td>285324.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2902.09</td>
      <td>31847</td>
      <td>1499110</td>
      <td>195580.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355</th>
      <td>2003</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>9705.02</td>
      <td>498055</td>
      <td>2261631</td>
      <td>391292.0</td>
    </tr>
    <tr>
      <th>356</th>
      <td>2004</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>11648.70</td>
      <td>668128</td>
      <td>3162299</td>
      <td>656175.0</td>
    </tr>
    <tr>
      <th>357</th>
      <td>2005</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>13417.68</td>
      <td>772000</td>
      <td>2370200</td>
      <td>656175.0</td>
    </tr>
    <tr>
      <th>358</th>
      <td>2006</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>15718.47</td>
      <td>888935</td>
      <td>2553268</td>
      <td>1017303.0</td>
    </tr>
    <tr>
      <th>359</th>
      <td>2007</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>18753.73</td>
      <td>1036576</td>
      <td>2939778</td>
      <td>844647.0</td>
    </tr>
  </tbody>
</table>
<p>360 rows × 7 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add distributions by region</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#fig, axes = plt.subplots(nrows=3, ncols=3)</span>

<span class="n">test_cells</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;East China&#39;</span><span class="p">,</span> <span class="s1">&#39;North China&#39;</span><span class="p">]</span>
<span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">,</span> <span class="s1">&#39;fdi&#39;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">test_cell</span> <span class="ow">in</span> <span class="n">test_cells</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">metric</span> <span class="ow">in</span> <span class="n">metrics</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;region&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">test_cell</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="p">[</span><span class="n">metric</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">test_cell</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="p">)</span>

        
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>East China
gdp
East China
fdi
East China
it
North China
gdp
North China
fdi
North China
it
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_1.png" />
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_2.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_2.png" />
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_3.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_3.png" />
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_4.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_4.png" />
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_5.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_5.png" />
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_6.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_6_6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fdi&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7fa7ec7cbdd8&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_7_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_7_1.png" />
</div>
</div>
</div>
<div class="section" id="distributions-of-dependant-variables">
<h2>Distributions of Dependant Variables<a class="headerlink" href="#distributions-of-dependant-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="right-skew">
<h3>Right skew<a class="headerlink" href="#right-skew" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fdi&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7fa7ec6e00f0&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_10_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_10_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fa7ec5d6a90&gt;
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_11_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_11_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;fdi&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fa7ec4a4d30&gt;
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_12_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_12_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;it&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fa7ec4df278&gt;
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_13_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_13_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;specific&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fa7ec3e09e8&gt;
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_14_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_14_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fdi&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7fa7ec31ccc0&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_15_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_15_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="removal-of-gdp-value-outliers-more-than-3-standard-deviations-away-from-the-mean">
<h2>Removal of GDP value outliers more than 3 standard deviations away from the mean<a class="headerlink" href="#removal-of-gdp-value-outliers-more-than-3-standard-deviations-away-from-the-mean" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="outlier-removal-of-rows-with-gdp-values-that-are-3-standard-deviations-away-form-the-mean">
<h2>outlier removal of rows with GDP values that are &gt; 3 standard deviations away form the mean<a class="headerlink" href="#outlier-removal-of-rows-with-gdp-values-that-are-3-standard-deviations-away-form-the-mean" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gdp_zscore&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">zscore</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="these-are-the-observations-more-then-3-sds-away-from-the-mean-of-gdp-that-will-be-dropped">
<h2>these are the observations more then &gt; 3 SDs away from the mean of gdp that will be dropped<a class="headerlink" href="#these-are-the-observations-more-then-3-sds-away-from-the-mean-of-gdp-that-will-be-dropped" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gdp_zscore&#39;</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7fa7ec873208&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_21_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_21_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_no_gdp_outliers</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gdp_zscore&#39;</span><span class="p">])</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_no_gdp_outliers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>province</th>
      <th>gdp</th>
      <th>fdi</th>
      <th>it</th>
      <th>specific</th>
      <th>gdp_zscore</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1996</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2093.30</td>
      <td>50661</td>
      <td>631930</td>
      <td>147002.0</td>
      <td>-0.521466</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1997</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2347.32</td>
      <td>43443</td>
      <td>657860</td>
      <td>151981.0</td>
      <td>-0.464746</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1998</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2542.96</td>
      <td>27673</td>
      <td>889463</td>
      <td>174930.0</td>
      <td>-0.421061</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1999</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2712.34</td>
      <td>26131</td>
      <td>1227364</td>
      <td>285324.0</td>
      <td>-0.383239</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2000</td>
      <td>East China</td>
      <td>Anhui</td>
      <td>2902.09</td>
      <td>31847</td>
      <td>1499110</td>
      <td>195580.0</td>
      <td>-0.340870</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>354</th>
      <td>2002</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>8003.67</td>
      <td>307610</td>
      <td>1962633</td>
      <td>365437.0</td>
      <td>0.798274</td>
    </tr>
    <tr>
      <th>355</th>
      <td>2003</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>9705.02</td>
      <td>498055</td>
      <td>2261631</td>
      <td>391292.0</td>
      <td>1.178172</td>
    </tr>
    <tr>
      <th>356</th>
      <td>2004</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>11648.70</td>
      <td>668128</td>
      <td>3162299</td>
      <td>656175.0</td>
      <td>1.612181</td>
    </tr>
    <tr>
      <th>357</th>
      <td>2005</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>13417.68</td>
      <td>772000</td>
      <td>2370200</td>
      <td>656175.0</td>
      <td>2.007180</td>
    </tr>
    <tr>
      <th>358</th>
      <td>2006</td>
      <td>East China</td>
      <td>Zhejiang</td>
      <td>15718.47</td>
      <td>888935</td>
      <td>2553268</td>
      <td>1017303.0</td>
      <td>2.520929</td>
    </tr>
  </tbody>
</table>
<p>350 rows × 8 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_no_gdp_outliers</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7fa7ec95e4e0&gt;]],
      dtype=object)
</pre></div>
</div>
<img alt="_images/2020-10-19-ttests-distributions-crosstabs-functions_24_1.png" src="_images/2020-10-19-ttests-distributions-crosstabs-functions_24_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts_fiscal</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">counts_fiscal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>province</th>
      <th>gdp</th>
      <th>fdi</th>
      <th>it</th>
      <th>specific</th>
      <th>gdp_zscore</th>
    </tr>
    <tr>
      <th>region</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>East China</th>
      <td>84</td>
      <td>84</td>
      <td>84</td>
      <td>84</td>
      <td>84</td>
      <td>84</td>
      <td>84</td>
    </tr>
    <tr>
      <th>North China</th>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>47</td>
      <td>48</td>
    </tr>
    <tr>
      <th>Northeast China</th>
      <td>36</td>
      <td>36</td>
      <td>36</td>
      <td>36</td>
      <td>36</td>
      <td>36</td>
      <td>36</td>
    </tr>
    <tr>
      <th>Northwest China</th>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
    </tr>
    <tr>
      <th>South Central China</th>
      <td>72</td>
      <td>72</td>
      <td>72</td>
      <td>72</td>
      <td>72</td>
      <td>72</td>
      <td>72</td>
    </tr>
    <tr>
      <th>Southwest China</th>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>60</td>
      <td>57</td>
      <td>60</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts_fiscal</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;province&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">counts_fiscal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>region</th>
      <th>gdp</th>
      <th>fdi</th>
      <th>it</th>
      <th>specific</th>
      <th>gdp_zscore</th>
    </tr>
    <tr>
      <th>province</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Anhui</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Beijing</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Chongqing</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>9</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Fujian</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Gansu</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Guangdong</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Guangxi</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Guizhou</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Hainan</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Hebei</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>11</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Heilongjiang</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Henan</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Hubei</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Hunan</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Jiangsu</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Jiangxi</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Jilin</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Liaoning</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Ningxia</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Qinghai</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Shaanxi</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Shandong</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Shanghai</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Shanxi</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Sichuan</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Tianjin</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Tibet</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Xinjiang</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Yunnan</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>Zhejiang</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#df_no_gdp_outliers.pivot_table(index=&#39;grouping column 1&#39;, columns=&#39;grouping column 2&#39;, values=&#39;aggregating column&#39;, aggfunc=&#39;sum&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pd.crosstab(df_no_gdp_outliers, &#39;year&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_no_gdp_outliers_subset</span> <span class="o">=</span> <span class="n">df_no_gdp_outliers</span><span class="p">[[</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp&#39;</span><span class="p">,</span> <span class="s1">&#39;fdi&#39;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">]]</span>
<span class="n">df_no_gdp_outliers_subset</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>region</th>
      <th>gdp</th>
      <th>fdi</th>
      <th>it</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>East China</td>
      <td>2093.30</td>
      <td>50661</td>
      <td>631930</td>
    </tr>
    <tr>
      <th>1</th>
      <td>East China</td>
      <td>2347.32</td>
      <td>43443</td>
      <td>657860</td>
    </tr>
    <tr>
      <th>2</th>
      <td>East China</td>
      <td>2542.96</td>
      <td>27673</td>
      <td>889463</td>
    </tr>
    <tr>
      <th>3</th>
      <td>East China</td>
      <td>2712.34</td>
      <td>26131</td>
      <td>1227364</td>
    </tr>
    <tr>
      <th>4</th>
      <td>East China</td>
      <td>2902.09</td>
      <td>31847</td>
      <td>1499110</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>354</th>
      <td>East China</td>
      <td>8003.67</td>
      <td>307610</td>
      <td>1962633</td>
    </tr>
    <tr>
      <th>355</th>
      <td>East China</td>
      <td>9705.02</td>
      <td>498055</td>
      <td>2261631</td>
    </tr>
    <tr>
      <th>356</th>
      <td>East China</td>
      <td>11648.70</td>
      <td>668128</td>
      <td>3162299</td>
    </tr>
    <tr>
      <th>357</th>
      <td>East China</td>
      <td>13417.68</td>
      <td>772000</td>
      <td>2370200</td>
    </tr>
    <tr>
      <th>358</th>
      <td>East China</td>
      <td>15718.47</td>
      <td>888935</td>
      <td>2553268</td>
    </tr>
  </tbody>
</table>
<p>350 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">aggregate_and_ttest</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">groupby_feature</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">05</span><span class="p">,</span> <span class="n">test_cells</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
    <span class="c1">#Imports</span>
    <span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
    <span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind_from_stats</span>

    
    <span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gdp&#39;</span><span class="p">,</span> <span class="s1">&#39;fdi&#39;</span><span class="p">,</span> <span class="s1">&#39;it&#39;</span><span class="p">]</span>
    
    <span class="n">feature_size</span> <span class="o">=</span> <span class="s1">&#39;size&#39;</span>
    <span class="n">feature_mean</span> <span class="o">=</span> <span class="s1">&#39;mean&#39;</span>
    <span class="n">feature_std</span> <span class="o">=</span> <span class="s1">&#39;std&#39;</span>    

    <span class="k">for</span> <span class="n">metric</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">metrics</span><span class="p">):</span>
        
        <span class="c1">#print(metric)</span>
        <span class="n">crosstab</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">groupby_feature</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="n">metric</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">crosstab</span><span class="p">)</span>
        
        <span class="n">treatment</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">test_cells</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="n">control</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">test_cells</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        
        <span class="n">counts_control</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">control</span><span class="p">,</span> <span class="n">feature_size</span><span class="p">]</span>
        <span class="n">counts_treatment</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">treatment</span><span class="p">,</span> <span class="n">feature_size</span><span class="p">]</span>

        <span class="n">mean_control</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">control</span><span class="p">,</span> <span class="n">feature_mean</span><span class="p">]</span>
        <span class="n">mean_treatment</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">treatment</span><span class="p">,</span> <span class="n">feature_mean</span><span class="p">]</span>

        <span class="n">standard_deviation_control</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">control</span><span class="p">,</span> <span class="n">feature_std</span><span class="p">]</span>
        <span class="n">standard_deviation_treatment</span> <span class="o">=</span> <span class="n">crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">treatment</span><span class="p">,</span> <span class="n">feature_std</span><span class="p">]</span>
        
        <span class="n">t_statistic</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind_from_stats</span><span class="p">(</span><span class="n">mean1</span><span class="o">=</span><span class="n">mean_treatment</span><span class="p">,</span> <span class="n">std1</span><span class="o">=</span><span class="n">standard_deviation_treatment</span><span class="p">,</span> <span class="n">nobs1</span><span class="o">=</span><span class="n">counts_treatment</span><span class="p">,</span><span class="n">mean2</span><span class="o">=</span><span class="n">mean_control</span><span class="p">,</span><span class="n">std2</span><span class="o">=</span><span class="n">standard_deviation_control</span><span class="p">,</span><span class="n">nobs2</span><span class="o">=</span><span class="n">counts_control</span><span class="p">)</span>
        
        <span class="c1">#fstring to print the p value and t statistic</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The t statistic of the comparison of the treatment test cell of </span><span class="si">{</span><span class="n">treatment</span><span class="si">}</span><span class="s2"> compared to the control test cell of </span><span class="si">{</span><span class="n">control</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">t_statistic</span><span class="si">}</span><span class="s2"> and the p value is </span><span class="si">{</span><span class="n">p_value</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        
        <span class="c1">#f string to say of the comparison is significant at a given alpha level</span>

        <span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="n">alpha</span><span class="p">:</span> 
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The comparison between </span><span class="si">{</span><span class="n">treatment</span><span class="si">}</span><span class="s1"> and </span><span class="si">{</span><span class="n">control</span><span class="si">}</span><span class="s1"> is statistically significant at the threshold of </span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span> 
        <span class="k">else</span><span class="p">:</span> 
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The comparison between </span><span class="si">{</span><span class="n">treatment</span><span class="si">}</span><span class="s1"> and </span><span class="si">{</span><span class="n">control</span><span class="si">}</span><span class="s1"> is not statistically significant at the threshold of </span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aggregate_and_ttest</span><span class="p">(</span><span class="n">df_no_gdp_outliers_subset</span><span class="p">,</span> <span class="n">test_cells</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|██████████| 3/3 [00:00&lt;00:00, 115.78it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                     size         mean          std
region                                             
East China             78  6070.604231  3500.372702
North China            48  4239.038542  2866.705149
Northeast China        36  3849.076944  1948.531835
Northwest China        60  1340.026167  1174.399739
South Central China    68  4835.540882  3697.129915
Southwest China        60  2410.398833  2144.589994
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 3.0488753833171947 and the p value is 0.002808541335921234.
The comparison between East China and North China is statistically significant at the threshold of 0.05
                     size           mean            std
region                                                 
East China             78  355577.897436  275635.866746
North China            48  169600.583333  127011.475909
Northeast China        36  136623.750000  142734.495232
Northwest China        60   15111.133333   22954.193559
South Central China    68  218931.426471  339981.399823
Southwest China        60   25405.083333   31171.373876
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 4.391461461316698 and the p value is 2.3859390186769955e-05.
The comparison between East China and North China is statistically significant at the threshold of 0.05
                     size          mean           std
region                                               
East China             78  1.775615e+06  1.153030e+06
North China            48  1.733719e+06  1.548794e+06
Northeast China        36  2.665148e+06  1.768442e+06
Northwest China        60  1.703538e+06  1.446408e+06
South Central China    68  2.500962e+06  2.196436e+06
Southwest China        60  2.424971e+06  2.002198e+06
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 0.17339716493934587 and the p value is 0.862621991978372.
The comparison between East China and North China is not statistically significant at the threshold of 0.05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)):</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|██████████| 10000/10000 [00:00&lt;00:00, 2169617.21it/s]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">EastvNorth</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">EastvNorth</span><span class="o">=</span> <span class="n">aggregate_and_ttest</span><span class="p">(</span><span class="n">df_no_gdp_outliers_subset</span><span class="p">,</span> <span class="n">test_cells</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">EastvNorth</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|██████████| 3/3 [00:00&lt;00:00, 135.00it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                     size         mean          std
region                                             
East China             78  6070.604231  3500.372702
North China            48  4239.038542  2866.705149
Northeast China        36  3849.076944  1948.531835
Northwest China        60  1340.026167  1174.399739
South Central China    68  4835.540882  3697.129915
Southwest China        60  2410.398833  2144.589994
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 3.0488753833171947 and the p value is 0.002808541335921234.
The comparison between East China and North China is statistically significant at the threshold of 0.05
                     size           mean            std
region                                                 
East China             78  355577.897436  275635.866746
North China            48  169600.583333  127011.475909
Northeast China        36  136623.750000  142734.495232
Northwest China        60   15111.133333   22954.193559
South Central China    68  218931.426471  339981.399823
Southwest China        60   25405.083333   31171.373876
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 4.391461461316698 and the p value is 2.3859390186769955e-05.
The comparison between East China and North China is statistically significant at the threshold of 0.05
                     size          mean           std
region                                               
East China             78  1.775615e+06  1.153030e+06
North China            48  1.733719e+06  1.548794e+06
Northeast China        36  2.665148e+06  1.768442e+06
Northwest China        60  1.703538e+06  1.446408e+06
South Central China    68  2.500962e+06  2.196436e+06
Southwest China        60  2.424971e+06  2.002198e+06
The t statistic of the comparison of the treatment test cell of East China compared to the control test cell of North China is 0.17339716493934587 and the p value is 0.862621991978372.
The comparison between East China and North China is not statistically significant at the threshold of 0.05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="genearate-an-experimental-crosstab-to-be-used-in-statistical-tests">
<h2>Genearate an experimental_crosstab to be used in statistical tests<a class="headerlink" href="#genearate-an-experimental-crosstab-to-be-used-in-statistical-tests" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span> <span class="o">=</span> <span class="n">df_no_gdp_outliers_subset</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;East China&#39;, &#39;North China&#39;, &#39;Northeast China&#39;, &#39;Northwest China&#39;,
       &#39;South Central China&#39;, &#39;Southwest China&#39;],
      dtype=&#39;object&#39;, name=&#39;region&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">T</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>region</th>
      <th>East China</th>
      <th>North China</th>
      <th>Northeast China</th>
      <th>Northwest China</th>
      <th>South Central China</th>
      <th>Southwest China</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">gdp</th>
      <th>size</th>
      <td>7.800000e+01</td>
      <td>4.800000e+01</td>
      <td>3.600000e+01</td>
      <td>6.000000e+01</td>
      <td>6.800000e+01</td>
      <td>6.000000e+01</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>6.070604e+03</td>
      <td>4.239039e+03</td>
      <td>3.849077e+03</td>
      <td>1.340026e+03</td>
      <td>4.835541e+03</td>
      <td>2.410399e+03</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3.500373e+03</td>
      <td>2.866705e+03</td>
      <td>1.948532e+03</td>
      <td>1.174400e+03</td>
      <td>3.697130e+03</td>
      <td>2.144590e+03</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">fdi</th>
      <th>size</th>
      <td>7.800000e+01</td>
      <td>4.800000e+01</td>
      <td>3.600000e+01</td>
      <td>6.000000e+01</td>
      <td>6.800000e+01</td>
      <td>6.000000e+01</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.555779e+05</td>
      <td>1.696006e+05</td>
      <td>1.366238e+05</td>
      <td>1.511113e+04</td>
      <td>2.189314e+05</td>
      <td>2.540508e+04</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.756359e+05</td>
      <td>1.270115e+05</td>
      <td>1.427345e+05</td>
      <td>2.295419e+04</td>
      <td>3.399814e+05</td>
      <td>3.117137e+04</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">it</th>
      <th>size</th>
      <td>7.800000e+01</td>
      <td>4.800000e+01</td>
      <td>3.600000e+01</td>
      <td>6.000000e+01</td>
      <td>6.800000e+01</td>
      <td>6.000000e+01</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.775615e+06</td>
      <td>1.733719e+06</td>
      <td>2.665148e+06</td>
      <td>1.703538e+06</td>
      <td>2.500962e+06</td>
      <td>2.424971e+06</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.153030e+06</td>
      <td>1.548794e+06</td>
      <td>1.768442e+06</td>
      <td>1.446408e+06</td>
      <td>2.196436e+06</td>
      <td>2.002198e+06</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#experimental_crosstab.reset_index().unstack()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6070.604230769231
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;East China&#39;, &#39;North China&#39;, &#39;Northeast China&#39;, &#39;Northwest China&#39;,
       &#39;South Central China&#39;, &#39;Southwest China&#39;],
      dtype=&#39;object&#39;, name=&#39;region&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">gdp</th>
      <th colspan="3" halign="left">fdi</th>
      <th colspan="3" halign="left">it</th>
    </tr>
    <tr>
      <th></th>
      <th>size</th>
      <th>mean</th>
      <th>std</th>
      <th>size</th>
      <th>mean</th>
      <th>std</th>
      <th>size</th>
      <th>mean</th>
      <th>std</th>
    </tr>
    <tr>
      <th>region</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>East China</th>
      <td>78</td>
      <td>6070.604231</td>
      <td>3500.372702</td>
      <td>78</td>
      <td>355577.897436</td>
      <td>275635.866746</td>
      <td>78</td>
      <td>1.775615e+06</td>
      <td>1.153030e+06</td>
    </tr>
    <tr>
      <th>North China</th>
      <td>48</td>
      <td>4239.038542</td>
      <td>2866.705149</td>
      <td>48</td>
      <td>169600.583333</td>
      <td>127011.475909</td>
      <td>48</td>
      <td>1.733719e+06</td>
      <td>1.548794e+06</td>
    </tr>
    <tr>
      <th>Northeast China</th>
      <td>36</td>
      <td>3849.076944</td>
      <td>1948.531835</td>
      <td>36</td>
      <td>136623.750000</td>
      <td>142734.495232</td>
      <td>36</td>
      <td>2.665148e+06</td>
      <td>1.768442e+06</td>
    </tr>
    <tr>
      <th>Northwest China</th>
      <td>60</td>
      <td>1340.026167</td>
      <td>1174.399739</td>
      <td>60</td>
      <td>15111.133333</td>
      <td>22954.193559</td>
      <td>60</td>
      <td>1.703538e+06</td>
      <td>1.446408e+06</td>
    </tr>
    <tr>
      <th>South Central China</th>
      <td>68</td>
      <td>4835.540882</td>
      <td>3697.129915</td>
      <td>68</td>
      <td>218931.426471</td>
      <td>339981.399823</td>
      <td>68</td>
      <td>2.500962e+06</td>
      <td>2.196436e+06</td>
    </tr>
    <tr>
      <th>Southwest China</th>
      <td>60</td>
      <td>2410.398833</td>
      <td>2144.589994</td>
      <td>60</td>
      <td>25405.083333</td>
      <td>31171.373876</td>
      <td>60</td>
      <td>2.424971e+06</td>
      <td>2.002198e+06</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gdp_size</th>
      <th>gdp_mean</th>
      <th>gdp_std</th>
      <th>fdi_size</th>
      <th>fdi_mean</th>
      <th>fdi_std</th>
      <th>it_size</th>
      <th>it_mean</th>
      <th>it_std</th>
    </tr>
    <tr>
      <th>region</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>East China</th>
      <td>78</td>
      <td>6070.604231</td>
      <td>3500.372702</td>
      <td>78</td>
      <td>355577.897436</td>
      <td>275635.866746</td>
      <td>78</td>
      <td>1.775615e+06</td>
      <td>1.153030e+06</td>
    </tr>
    <tr>
      <th>North China</th>
      <td>48</td>
      <td>4239.038542</td>
      <td>2866.705149</td>
      <td>48</td>
      <td>169600.583333</td>
      <td>127011.475909</td>
      <td>48</td>
      <td>1.733719e+06</td>
      <td>1.548794e+06</td>
    </tr>
    <tr>
      <th>Northeast China</th>
      <td>36</td>
      <td>3849.076944</td>
      <td>1948.531835</td>
      <td>36</td>
      <td>136623.750000</td>
      <td>142734.495232</td>
      <td>36</td>
      <td>2.665148e+06</td>
      <td>1.768442e+06</td>
    </tr>
    <tr>
      <th>Northwest China</th>
      <td>60</td>
      <td>1340.026167</td>
      <td>1174.399739</td>
      <td>60</td>
      <td>15111.133333</td>
      <td>22954.193559</td>
      <td>60</td>
      <td>1.703538e+06</td>
      <td>1.446408e+06</td>
    </tr>
    <tr>
      <th>South Central China</th>
      <td>68</td>
      <td>4835.540882</td>
      <td>3697.129915</td>
      <td>68</td>
      <td>218931.426471</td>
      <td>339981.399823</td>
      <td>68</td>
      <td>2.500962e+06</td>
      <td>2.196436e+06</td>
    </tr>
    <tr>
      <th>Southwest China</th>
      <td>60</td>
      <td>2410.398833</td>
      <td>2144.589994</td>
      <td>60</td>
      <td>25405.083333</td>
      <td>31171.373876</td>
      <td>60</td>
      <td>2.424971e+06</td>
      <td>2.002198e+06</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;East China&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp_size&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>78
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">experimental_crosstab</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;fiscal_experimental_crosstab.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="2020-10-27-sql_calls_in_jupyter_Soccer_Pred.html" title="previous page">Working with sqlite databases in Jupyter for Visualizing European Soccer Match Data</a>
    <a class='right-next' id="next-link" href="2020-09-24-AnalyzingUSRealInterestRate.html" title="next page">Analyzing US Real Interest Rate From 1959 - 2009 with statsmodels</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By David Kearney<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>